from datetime import datetime

pool_tables = []


class PoolTable:
    def __init__(self, number):
        self.number = number
        self.occupied = False
        self.start_time = None
        self.end_time = None

    def check_in(self):
        self.occupied = False
        self.end_time = datetime.now()
        self.save_to_file()

    def check_out(self):
        self.start_time = datetime.now()
        self.occupied = True
        self.save_to_file

    def save_to_file(self):
        with open("pool_tables.txt", "a") as file:
            file.write(str(self.number))
            file.write(str(self.occupied))
            file.write(str(self.start_time))
           

    def add(self, table):
        self.table.append.table


while True:
  for index in range(1, 13):
      table = PoolTable(index)
      pool_tables.append(table)

  pool_table = PoolTable

  current_time = datetime.now()
  print(current_time)

  print("========== U of H Pool Hall ==========")

  print("To Checkout A Table Enter 1: ")
  print("To Closeout A Table Enter 2: ")
  print("To View All Tables Enter  3: ")
  print("Enter q to Quit: ")

  print("======================================")
  choice = int(input("Enter Your Choice: "))

  if choice == "q":
            print("Have A Nice Day")
            break

  if choice == 1:

    for table in pool_tables:
     print("Table", table.number,table.occupied)

    table_number = int(input("Choose Your Table Number:"))
    user_table = pool_tables[table_number -1]
    user_table.check_out()
    user_table.save_to_file()

  if choice == 2:
    for table in pool_tables:
      print("Table", table.number)
      table_number = int(input("Choose Your Table Number:"))
      user_table = pool_tables[table_number -1]
      user_table.check_in()
      user_table.save_to_file("\n")

  if choice == 3:
    for table in pool_tables:
       print("Table", table.number)


